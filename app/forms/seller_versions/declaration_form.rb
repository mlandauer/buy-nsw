module SellerVersions
  class DeclarationForm < BaseForm
    def representative_details_provided?
      [
        :representative_name, :representative_email,
        :representative_phone, :representative_position,
      ].map do |field|
        model.send(field)
      end.reject(&:present?).empty?
    end

    def business_details_provided?
      model.name.present? && model.abn.present?
    end

    property :agree

    validation :default do
      required(:agree).filled(:bool?, :true?)
    end
  end
end
